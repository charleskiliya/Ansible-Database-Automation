

CREATE DATABASE HumanRessources;

CREATE TABLE JOBS (
    JOB_ID VARCHAR(10) NOT NULL,
    JOB_TITLE VARCHAR(35),
    MIN_SALARY FLOAT,
    MAX_SALARY FLOAT,
    PRIMARY KEY (JOB_ID)
);

CREATE TABLE EMPLOYEES (
    EMPLOYEE_ID INTEGER NOT NULL,
    FIRST_NAME VARCHAR(20),
    LAST_NAME VARCHAR(25) NOT NULL,
    EMAIL VARCHAR(50) NOT NULL,
    PHONE_NUMBER VARCHAR(20),
    HIRE_DATE DATE NOT NULL,
    JOB_ID VARCHAR(10) NOT NULL,
    SALARY FLOAT,
    COMMISSION_PCT FLOAT,
    MANAGER_ID INTEGER,
    DEPARTMENT_ID INTEGER,
    PRIMARY KEY (EMPLOYEE_ID),
    FOREIGN KEY (JOB_ID) REFERENCES JOBS(JOB_ID)
);

CREATE TABLE JOB_HISTORY (
    EMPLOYEE_ID INTEGER NOT NULL,
    START_DATE DATE NOT NULL,
    END_DATE DATE NOT NULL,
    JOB_ID VARCHAR(10) NOT NULL,
    DEPARTMENT_ID INTEGER,
    PRIMARY KEY (EMPLOYEE_ID, START_DATE),
    FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEES(EMPLOYEE_ID),
    FOREIGN KEY (JOB_ID) REFERENCES JOBS(JOB_ID)
);

INSERT INTO JOBS (JOB_ID, JOB_TITLE, MIN_SALARY, MAX_SALARY)
VALUES
  ('JOB001', 'Software Engineer', 50000, 100000),
  ('JOB002', 'Project Manager', 70000, 120000),
  ('JOB003', 'Data Analyst', 45000, 80000),
  ('JOB004', 'Sales Representative', 35000, 65000),
  ('JOB005', 'HR Specialist', 40000, 75000);


INSERT INTO EMPLOYEES (EMPLOYEE_ID, FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE, JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID)
VALUES
  (1001, 'John', 'Doe', 'john.doe@metorexgroup.com', '555-1234', '2020-01-01', 'JOB001', 70000, 0.1, 1005, 10),
  (1002, 'Jane', 'Smith', 'jane.smith@metorexgroup.com', '555-5678', '2021-03-15', 'JOB002', 90000, 0.15, 1005, 20),
  (1003, 'Bob', 'Johnson', 'bob.johnson@metorexgroup.com', '555-9012', '2019-06-30', 'JOB003', 55000, 0.05, 1007, 30),
  (1004, 'Sarah', 'Lee', 'sarah.lee@metorexgroup.com', '555-3456', '2022-09-01', 'JOB004', 45000, 0.2, 1008, 40),
  (1005, 'Michael', 'Brown', 'michael.brown@metorexgroup.com', '555-7890', '2018-11-10', 'JOB002', 100000, 0.2, NULL, 20),
  (1006, 'Emily', 'Davis', 'emily.davis@metorexgroup.com', '555-2345', '2021-04-20', 'JOB005', 65000, 0.1, 1005, 50),
  (1007, 'David', 'Wilson', 'david.wilson@metorexgroup.com', '555-6789', '2020-02-15', 'JOB003', 60000, 0.08, 1005, 30),
  (1008, 'Olivia', 'Taylor', 'olivia.taylor@metorexgroup.com', '555-0123', '2022-05-01', 'JOB004', 50000, 0.15, 1005, 40);

INSERT INTO JOB_HISTORY (EMPLOYEE_ID, START_DATE, END_DATE, JOB_ID, DEPARTMENT_ID)
VALUES
  (1001, '2020-01-01', '2021-06-30', 'JOB001', 10),
  (1001, '2021-07-01', CURRENT_DATE, 'JOB002', 20),
  (1002, '2021-03-15', CURRENT_DATE, 'JOB002', 20),
  (1003, '2019-06-30', '2021-12-31', 'JOB003', 30),
  (1003, '2022-01-01', CURRENT_DATE, 'JOB005', 50),
  (1004, '2022-09-01', CURRENT_DATE, 'JOB004', 40),
  (1005, '2018-11-10', CURRENT_DATE, 'JOB002', 20),
  (1006, '2021-04-20', CURRENT_DATE, 'JOB005', 50),
  (1007, '2020-02-15', '2022-06-30', 'JOB003', 30),
  (1007, '2022-07-01', CURRENT_DATE, 'JOB001', 10),
  (1008, '2022-05-01', CURRENT_DATE, 'JOB004', 40);
